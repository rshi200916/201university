{% extends 'base_shop.html' %}
{% block sell %}
<div class="card border-top border-0 border-4 border-info">
		    <div class="card-body">
		        <div class="border p-4 rounded">
		            <div class="card-title d-flex align-items-center">
		                <div><i class="bi bi-people me-1 bsa-font-20 text-info"></i>
		                </div>
		                <h5 class="mb-0 text-info">Sale of Goods</h5>
		            </div>
		            <hr>
		            <form id="sell_mod"  action="/shop/sell/"  method="post" enctype="multipart/form-data">
                        {{ csrf_input }}
		                <div class="row mb-3">
		                    <label for="username4" class="col-sm-3 col-form-label">
		                        Trade Name
		                    </label>
		                    <div class="col-sm-9">
		                        <input type="text" class="form-control" id="username4" placeholder="Please Input Trade Name " name="TradeName" autocomplete="off">
		                    </div>
		                </div>
		                <div class="row mb-3">
		                    <label for="phone4" class="col-sm-3 col-form-label">
		                        Types
		                    </label>
		                    <div class="col-sm-9">
{#		                        <input type="text" class="form-control" id="phone4" placeholder="Please Input Types" name="TradeTypes" autocomplete="off">#}
{#		                    </div>#}
                              <select class="form-control" id="validationTooltip04" required="" name="TradeTypes">
		                  <option selected="" disabled="" value="">Choose trade type</option>
		                 <option value="furniture">furniture</option>
					     <option value="kitchenware">kitchenware</option>
					     <option value="book">book or e-book</option>
					     <option value="bags">suitcase</option>
					    <option value="appliance"> appliance</option>
		                </select>
                            </div>
		                </div>
		                <div class="row mb-3">
		                    <label for="email4" class="col-sm-3 col-form-label">
		                        Commodity Price
		                    </label>
		                    <div class="col-sm-9">
		                        <input v-model="price" @blur="check_price" type="text" class="form-control" id="email4" placeholder="Please Input Commodity Price " name="TradePrice" autocomplete="off">
{#		                        <span class="error_tip" v-show="price_condition">${error_message[0]['error_price']}</span>#}
                            </div>
		                </div>
		                <div class="row mb-3">
		                    <label for="password4" class="col-sm-3 col-form-label">
		                        Quantity of Goods
		                    </label>
		                    <div class="col-sm-9">
		                        <input type="text" class="form-control" id="password4" placeholder="Please Input Quantity of Goods" name="TradeQuantity" autocomplete="off">
		                    </div>
		                </div>
						<div class="row mb-3">
						  <label for="address4" class="col-sm-3 col-form-label">
						      Product Description
						  </label>
						  <div class="col-sm-9">
						  <textarea class="form-control" id="address4" rows="3" placeholder="Please Input Product Description" name="TradeDescription"></textarea>
						 </div>
						</div>
						<div class="row mb-3">
						<div style="position: relative;">
					    <!--设置input的position为absolute，使其不按文档流排版，并设置其包裹整个布局 -->
					    <!-- 设置opactity为0，使input变透明 -->
					    <!-- 只接受jpg，gif和png格式 -->
					    <input id="upload-input" name="TradePicture" style="position: absolute; top: 0; bottom: 0; left: 0;right: 0; opacity: 0;" type="file" accept="image/gif, image/jpg, image/png" onchange="showImg(this)" multiple />
					    <!-- 自定义按钮效果 -->
					    <!-- <div style="text-align: top"> -->
					        <!-- <span style="font-size: 12px;">上传文件：</span> -->
					        <img id="upload" src="" />
							    <div class="col">
							        <button type="button" class="btn btn-dark px-5 bsa-radius-30"><i class="bi bi-cloud-arrow-up me-1"></i>Picture Upload
							        </button>
							    </div>
								<div class="col-sm-9">
								<div id="imgContainer" style="margin-top: 30px;"></div>
								</div>
					    </div>
					<!-- </div> -->
					<!-- <div class="col-sm-9">
					<div id="imgContainer" style="margin-top: 100px;"></div>
					</div> -->
					</div>
		                <div class="row">
							 <label class="col-sm-3 col-form-label"></label>
		                        <div class="col">
		                            <button type="submit" class="btn btn-danger px-5 bsa-radius-30"><i class="bi bi-cart-check me-1"></i>SELL
		                            </button>
		                        </div>
		                </div>
		            </form>
		        </div>
		    </div>
		</div>
      <script type="text/javascript" src="../../static/js/vue.js"></script>
      <script type="text/javascript" src="../../static/js/sell/sell.js"></script>
		<script type="text/javascript">
		    function showImg(obj) {
		        let files = obj.files
		        document.getElementById("imgContainer").innerHTML = getImgsByUrl(files)
		        // getImgsByFileReader(document.getElementById("imgContainer"), files)
		    }

		    // 使用window.URL.createObjectURL(file)读取file实例并显示图片
		    function getImgsByUrl(files) {
		        let elements = ''
		        for (let i = 0; i < files.length; i++) {
		            let url = window.URL.createObjectURL(files[i])
		            elements += "<img src='"+ url + "' style='width: 200px; height: 200px; vertical-align: middle; margin-right: 2px;' />"
		        }
		        return elements
		    }

		    // 使用FileReader读取file实例并显示图片
		    function getImgsByFileReader(el, files) {
		        for (let i = 0; i < files.length; i++) {
		            let img = document.createElement('img')
		            img.setAttribute('style', 'width: 200px; height: 200px; vertical-align: middle; margin-right: 2px;')
		            el.appendChild(img)
		            let reader = new FileReader()
		            reader.onload = function(e) {
		                img.src = e.target.result.toString()
		            }
		            reader.readAsDataURL(files[i])
		        }
		    }
		</script>

{% endblock %}